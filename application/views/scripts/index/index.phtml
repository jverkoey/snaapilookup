<div id="logo"><a href="/">sna<span class="snaapi">api</span></a></div>
<div id="filters">
  <div class="list" style="display:none"></div>
  <div class="list-button">View all currently supported languages and frameworks</div>
  <div class="active"></div>
</div>

<div id="search">
  <form action="post" onsubmit="return false">
    <span id="small-logo" style="display:none" title="Return to the short description">back to sna<span class="snaapi">api</span></span>
    <input type="text" class="text" size="50" maxlength="50" name="search" autocomplete="off" />
    <div class="dropdown" style="display:none"></div>
  </form>
</div>
<div class="hr"></div>
<table id="content-table" cellpadding="0" cellspacing="0"><tbody><tr><td class="left">
  <div id="tree-view"></div>
</td><td class="right">
  <div id="result"></div>
</td></tr></tbody></table>

<?php
$this->headLink()->appendStylesheet('/css/openid.css');
$this->headLink()->appendStylesheet('/css/dashboard.css');

$this->inlineScript()->appendFile('/js/jquery.cookie.js');

if ('production' == $this->env) {
  $this->inlineScript()->appendFile('/js/snap/core.js');
  $this->inlineScript()->appendFile('/js/snap/ui.js');
} else {
  $this->inlineScript()->appendFile('/js/snap/core/snap.js');

  $this->inlineScript()->appendFile('/js/snap/ui/ghost-input.js');
  $this->inlineScript()->appendFile('/js/snap/ui/database.js');
  $this->inlineScript()->appendFile('/js/snap/ui/filter-bar.js');
  $this->inlineScript()->appendFile('/js/snap/ui/type-ahead.js');
  $this->inlineScript()->appendFile('/js/snap/ui/openid-login.js');
}

$this->inlineScript()->appendFile('/js/page/dashboard.js');
$this->inlineScript()->appendFile('/js/static/data.js');

if( $this->category && $this->type && $this->filter_type ) {
  if( $this->id ) {
?>
<div id="search_engine">
  <h1><?= $this->function_name ?></h1>
  <h2><?= $this->function_desc ?></h2>
</div>
<?php
    $this->inlineScript()->prependScript(
      'window.sel = {'.
        'category:'.$this->category.','.
        'function_id:'.$this->id.','.
        'name:"'.$this->function_name.'",'.
        'type:"'.$this->type.'",'.
        'filter_type:"'.$this->filter_type.'",'.
        'hierarchy:'.$this->hierarchy.'};'
    );
  } else {
    $this->inlineScript()->prependScript(
      'window.sel = {'.
        'category:'.$this->category.','.
        'type:"'.$this->type.'",'.
        'filter_type:"'.$this->filter_type.'"};'
    );
  }
}

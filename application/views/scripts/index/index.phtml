<table id="page-table"><tbody><tr id="topbar"><td>

  <div id="actions">
    <ul>
      <? if( Zend_Auth::getInstance()->hasIdentity() ) { ?>
      <li><a href="/profile">Profile</a></li>
      <li><a href="/logout">Log out</a></li>
      <? } else { ?>
        <li><a href="/login" title="Log in to snaapi with OpenID or a snaapi account">Log in</a></li>
        <li><a href="/signup" title="Or log in using Google, myOpenID, or a number of other services">Sign up</a></li>
      <? } ?>
    </ul>
  </div>

<div id="logo"><a href="/">sna<span class="snaapi">api</span></a></div>
<div id="filters">
  <div class="list" style="display:none"></div>
  <div class="list-button">View all currently supported languages and frameworks</div>
  <div class="active"></div>
</div>

<div id="search">
  <form action="post" onsubmit="return false">
    <input type="text" class="text" size="50" maxlength="50" name="search" autocomplete="off" /><span id="goback" style="display:none">back to the summary</span><span id="messages" style="display:none"></span>
    <div class="dropdown" style="display:none"></div>
  </form>
</div>
<div class="hr"></div>
</td></tr><tr><td id="bottom-pane">

  <table id="content-table" cellpadding="0" cellspacing="0"><tbody><tr><td class="left">
    <div id="tree-view"></div>
  </td><td class="right">
    <div id="result"></div>
  </td></tr></tbody></table>

  <div id="external-page" style="display:none"></div>

</td></tr></tbody></table>

<?php
$this->headLink()->appendStylesheet('/css/openid.css');
$this->headLink()->appendStylesheet('/css/dashboard.css');

$this->inlineScript()->appendFile('/js/jquery.cookie.js');

if ('production' == $this->env) {
  $this->inlineScript()->appendFile('/js/snap/core.js');
  $this->inlineScript()->appendFile('/js/snap/ui.js');
} else {
  $this->inlineScript()->appendFile('/js/snap/core/snap.js');

  $this->inlineScript()->appendFile('/js/snap/ui/ghost-input.js');
  $this->inlineScript()->appendFile('/js/snap/ui/database.js');
  $this->inlineScript()->appendFile('/js/snap/ui/filter-bar.js');
  $this->inlineScript()->appendFile('/js/snap/ui/type-ahead.js');
  $this->inlineScript()->appendFile('/js/snap/ui/openid-login.js');
}

$this->inlineScript()->appendFile('/js/page/dashboard.js');
$this->inlineScript()->appendFile('/js/static/data.js');

if( $this->category && $this->type && $this->filter_type ) {
  if( $this->id ) {
?>
<div id="search_engine">
  <h1><?= $this->function_name ?></h1>
  <h2><?= $this->function_desc ?></h2>
</div>
<?php
    $this->inlineScript()->prependScript(
      'window.sel = {'.
        'category:'.$this->category.','.
        'function_id:'.$this->id.','.
        'name:"'.$this->function_name.'",'.
        'type:"'.$this->type.'",'.
        'filter_type:"'.$this->filter_type.'",'.
        'hierarchy:'.$this->hierarchy.'};'
    );
  } else {
    $this->inlineScript()->prependScript(
      'window.sel = {'.
        'category:'.$this->category.','.
        'type:"'.$this->type.'",'.
        'filter_type:"'.$this->filter_type.'"};'
    );
  }
}
